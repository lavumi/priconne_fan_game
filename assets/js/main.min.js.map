{"version":3,"sourceRoot":"http://lavumi.net/pcrun/assets/js","sources":["assets/js/main.js"],"names":["let","ScreenSize","GameMain","lastFrameTime","Date","now","bgColor","spineManager","diff","nextObjPos","speedFactor","obstaclePos","bgPositions","baseBgSize","score","HP","scrollSpeed","closeBGSpeed","STATE","GAME_LOBBY","GAME_ENTRY","GAME_COUNTDOWN","GAME_START","GAME_OVER","HIGH_SCORE","GAME_RESTART","currentState","keyMap","resetObstacle","i","nextPos","k","length","nextLength","rnd","Math","floor","random","concat","shift","initGame","setDearIdle","requestAnimationFrame","update","setPosition","j","push","FontSystem","setVisible","delta","movement_delta","getSpeed","pos","getPosition","setTimeout","setString","run","setIdle","damage","die","hptext","gl","clearColor","clear","COLOR_BUFFER_BIT","resize","w","h","scaleX","window","innerWidth","devicePixelRatio","scaleY","innerHeight","scale","min","canvas","width","height","viewport","SpriteShader","bind","setTexture","setAttr","draw","render","inputName","_handleKeyDownEvent","event","code","preventDefault","jump","_handleKeyUpEvent","input","text","indexOf","replace","init","document","getElementById","config","alpha","getContext","addEventListener","SpineManager","loadFont","TextureUtil","loadTexture","load","alert","inputMobileDown","inputMobileUp","main"],"mappings":"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"}